Index: app/src/main/res/layout/activity_sala.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    android:background=\"@drawable/rojo\"\r\n\r\n    android:gravity=\"center\"\r\n    android:orientation=\"vertical\"\r\n    tools:context=\".Sala\">\r\n\r\n    <androidx.constraintlayout.widget.ConstraintLayout\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"match_parent\">\r\n\r\n        <androidx.constraintlayout.widget.ConstraintLayout\r\n            android:layout_width=\"413dp\"\r\n            android:layout_height=\"75dp\"\r\n            android:background=\"#4A0F0F\"\r\n            app:layout_constraintBottom_toTopOf=\"@+id/constraintLayout4\"\r\n            app:layout_constraintEnd_toEndOf=\"parent\"\r\n            app:layout_constraintStart_toStartOf=\"parent\"\r\n            app:layout_constraintTop_toTopOf=\"parent\"\r\n            app:layout_constraintVertical_bias=\"0.0\">\r\n\r\n            <TableLayout\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"match_parent\"\r\n                app:layout_constraintBottom_toBottomOf=\"parent\"\r\n                app:layout_constraintEnd_toEndOf=\"parent\"\r\n                app:layout_constraintStart_toStartOf=\"parent\"\r\n                app:layout_constraintTop_toTopOf=\"parent\">\r\n\r\n            </TableLayout>\r\n\r\n            <androidx.constraintlayout.widget.ConstraintLayout\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"match_parent\">\r\n\r\n                <TableRow\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"match_parent\">\r\n\r\n                    <androidx.constraintlayout.widget.ConstraintLayout\r\n                        android:layout_width=\"match_parent\"\r\n                        android:layout_height=\"match_parent\">\r\n\r\n                        <TextView\r\n                            android:id=\"@+id/textView2\"\r\n                            android:layout_width=\"206dp\"\r\n                            android:layout_height=\"32dp\"\r\n                            android:fontFamily=\"@font/castlerock\"\r\n                            android:text=\"CÃ³digo de la sala:\"\r\n                            android:textColor=\"#FF9800\"\r\n                            android:textSize=\"30dp\"\r\n                            app:layout_constraintBottom_toBottomOf=\"parent\"\r\n                            app:layout_constraintEnd_toStartOf=\"@+id/CodigoDeSala\"\r\n                            app:layout_constraintHorizontal_bias=\"0.58\"\r\n                            app:layout_constraintStart_toStartOf=\"parent\"\r\n                            app:layout_constraintTop_toTopOf=\"parent\" />\r\n\r\n                        <TextView\r\n                            android:id=\"@+id/CodigoDeSala\"\r\n                            android:layout_width=\"126dp\"\r\n                            android:layout_height=\"34dp\"\r\n                            android:fontFamily=\"@font/castlerock\"\r\n                            android:text=\"\"\r\n                            android:textColor=\"#FF9800\"\r\n                            android:textSize=\"30dp\"\r\n                            app:layout_constraintBottom_toBottomOf=\"parent\"\r\n                            app:layout_constraintEnd_toEndOf=\"parent\"\r\n                            app:layout_constraintHorizontal_bias=\"0.77\"\r\n                            app:layout_constraintStart_toStartOf=\"parent\"\r\n                            app:layout_constraintTop_toTopOf=\"parent\"\r\n                            app:layout_constraintVertical_bias=\"0.56\" />\r\n\r\n                        <Button\r\n                            android:id=\"@+id/Refreshcode\"\r\n                            android:layout_width=\"53dp\"\r\n                            android:layout_height=\"49dp\"\r\n                            android:background=\"@android:drawable/ic_popup_sync\"\r\n                            app:layout_constraintBottom_toBottomOf=\"parent\"\r\n                            app:layout_constraintEnd_toEndOf=\"parent\"\r\n                            app:layout_constraintHorizontal_bias=\"0.96\"\r\n                            app:layout_constraintStart_toStartOf=\"parent\"\r\n                            app:layout_constraintTop_toTopOf=\"parent\" />\r\n\r\n                    </androidx.constraintlayout.widget.ConstraintLayout>\r\n\r\n                </TableRow>\r\n\r\n                <TableRow\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"match_parent\"\r\n                    tools:layout_editor_absoluteY=\"34dp\">\r\n\r\n                </TableRow>\r\n\r\n                <TableRow\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"match_parent\"\r\n                    tools:layout_editor_absoluteY=\"34dp\">\r\n\r\n                </TableRow>\r\n\r\n                <TableRow\r\n                    android:layout_width=\"match_parent\"\r\n                    android:layout_height=\"match_parent\"\r\n                    tools:layout_editor_absoluteY=\"34dp\" />\r\n            </androidx.constraintlayout.widget.ConstraintLayout>\r\n\r\n        </androidx.constraintlayout.widget.ConstraintLayout>\r\n\r\n        <androidx.constraintlayout.widget.ConstraintLayout\r\n            android:id=\"@+id/constraintLayout4\"\r\n            android:layout_width=\"336dp\"\r\n            android:layout_height=\"346dp\"\r\n            app:layout_constraintBottom_toBottomOf=\"parent\"\r\n            app:layout_constraintEnd_toEndOf=\"parent\"\r\n            app:layout_constraintStart_toStartOf=\"parent\"\r\n            app:layout_constraintTop_toTopOf=\"parent\"\r\n            tools:ignore=\"MissingConstraints\">\r\n\r\n            <ImageView\r\n                android:id=\"@+id/ruleta\"\r\n                android:layout_width=\"313dp\"\r\n                android:layout_height=\"314dp\"\r\n                app:layout_constraintBottom_toBottomOf=\"parent\"\r\n                app:layout_constraintEnd_toEndOf=\"parent\"\r\n                app:layout_constraintHorizontal_bias=\"0.521\"\r\n                app:layout_constraintStart_toStartOf=\"parent\"\r\n                app:layout_constraintTop_toTopOf=\"parent\"\r\n                app:srcCompat=\"@drawable/ruleta\"\r\n                tools:ignore=\"MissingConstraints\" />\r\n        </androidx.constraintlayout.widget.ConstraintLayout>\r\n\r\n    </androidx.constraintlayout.widget.ConstraintLayout>\r\n</LinearLayout>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/layout/activity_sala.xml b/app/src/main/res/layout/activity_sala.xml
--- a/app/src/main/res/layout/activity_sala.xml	(revision e50a027cab43d1f2fe36e96d6d1cc13a4d452b8c)
+++ b/app/src/main/res/layout/activity_sala.xml	(date 1634319978606)
@@ -15,6 +15,7 @@
         android:layout_height="match_parent">
 
         <androidx.constraintlayout.widget.ConstraintLayout
+            android:id="@+id/constraintLayout5"
             android:layout_width="413dp"
             android:layout_height="75dp"
             android:background="#4A0F0F"
@@ -133,7 +134,57 @@
                 app:layout_constraintTop_toTopOf="parent"
                 app:srcCompat="@drawable/ruleta"
                 tools:ignore="MissingConstraints" />
+
+        </androidx.constraintlayout.widget.ConstraintLayout>
+
+        <androidx.constraintlayout.widget.ConstraintLayout
+            android:layout_width="411dp"
+            android:layout_height="115dp"
+            app:layout_constraintBottom_toBottomOf="@+id/constraintLayout4"
+            app:layout_constraintEnd_toEndOf="parent"
+            app:layout_constraintStart_toStartOf="parent"
+            app:layout_constraintTop_toBottomOf="@+id/constraintLayout5"
+            app:layout_constraintVertical_bias="0.120000005">
+
+            <ImageView
+                android:id="@+id/selecter"
+                android:layout_width="145dp"
+                android:layout_height="187dp"
+                android:layout_centerHorizontal="true"
+                android:background="@android:drawable/ic_menu_send"
+                android:backgroundTint="#FFFFFF"
+                android:rotation="90"
+                app:layout_constraintBottom_toBottomOf="parent"
+                app:layout_constraintEnd_toEndOf="parent"
+                app:layout_constraintStart_toStartOf="parent"
+                app:layout_constraintTop_toTopOf="parent"
+                app:layout_constraintVertical_bias="0.45"></ImageView>
+        </androidx.constraintlayout.widget.ConstraintLayout>
+
+        <androidx.constraintlayout.widget.ConstraintLayout
+            android:layout_width="410dp"
+            android:layout_height="162dp"
+            app:layout_constraintBottom_toBottomOf="parent"
+            app:layout_constraintEnd_toEndOf="parent"
+            app:layout_constraintStart_toStartOf="parent"
+            app:layout_constraintTop_toBottomOf="@+id/constraintLayout4"
+            app:layout_constraintVertical_bias="0.466">
+
+            <Button
+                android:id="@+id/btnGirar"
+                android:layout_width="361dp"
+                android:layout_height="38dp"
+                android:background="@drawable/magen2"
+                android:fontFamily="@font/castlerock"
+                android:text="Girar"
+                android:textSize="18dp"
+                app:layout_constraintBottom_toBottomOf="parent"
+                app:layout_constraintEnd_toEndOf="parent"
+                app:layout_constraintStart_toStartOf="parent"
+                app:layout_constraintTop_toTopOf="parent"
+                app:layout_constraintVertical_bias="0.493" />
         </androidx.constraintlayout.widget.ConstraintLayout>
 
     </androidx.constraintlayout.widget.ConstraintLayout>
+
 </LinearLayout>
\ No newline at end of file
Index: app/src/main/java/com/example/josga/Sala.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.josga;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.opengl.GLSurfaceView;\r\nimport android.os.Bundle;\r\nimport android.view.MotionEvent;\r\nimport android.view.SurfaceHolder;\r\nimport android.view.View;\r\nimport android.view.animation.Animation;\r\nimport android.view.animation.RotateAnimation;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.ImageView;\r\nimport android.widget.Switch;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport java.util.Random;\r\n\r\npublic class Sala extends AppCompatActivity {\r\n\r\n    private TextView Codigo;\r\n    private Button Refresh;\r\n\r\n    ImageView image;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_sala);\r\n\r\n\r\n        Refresh = (Button) findViewById(R.id.Refreshcode);\r\n        Codigo = (TextView) findViewById(R.id.CodigoDeSala);\r\n\r\n        Refresh.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Random ramdom = new Random();\r\n                int NUMERO = ramdom.nextInt(999999);\r\n                    Codigo.setText(Integer.toString(NUMERO));\r\n            }\r\n        });\r\n\r\n\r\n        image = (ImageView) findViewById(R.id.ruleta);\r\n        image.setOnTouchListener(new View.OnTouchListener() {\r\n            @Override\r\n            public boolean onTouch(View Evento, MotionEvent Accion) {\r\n                switch (Accion.getAction()){\r\n                    case MotionEvent.ACTION_MOVE:\r\n                        GirarRuleta(image);\r\n                        break;\r\n                }\r\n                return true;\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    private void GirarRuleta(ImageView image) {\r\n        RotateAnimation Animacion = new RotateAnimation(0,570,RotateAnimation.RELATIVE_TO_SELF, 0.5f,\r\n                RotateAnimation.RELATIVE_TO_SELF, 0.5f);\r\n\r\n        Animacion.setDuration(2000);\r\n        image.startAnimation(Animacion);\r\n\r\n    }\r\n\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/example/josga/Sala.java b/app/src/main/java/com/example/josga/Sala.java
--- a/app/src/main/java/com/example/josga/Sala.java	(revision e50a027cab43d1f2fe36e96d6d1cc13a4d452b8c)
+++ b/app/src/main/java/com/example/josga/Sala.java	(date 1634319320812)
@@ -1,30 +1,34 @@
 package com.example.josga;
 
-import androidx.annotation.NonNull;
 import androidx.appcompat.app.AppCompatActivity;
 
-import android.opengl.GLSurfaceView;
+import android.content.SharedPreferences;
 import android.os.Bundle;
-import android.view.MotionEvent;
-import android.view.SurfaceHolder;
+import android.preference.PreferenceManager;
 import android.view.View;
 import android.view.animation.Animation;
+import android.view.animation.DecelerateInterpolator;
 import android.view.animation.RotateAnimation;
 import android.widget.Button;
-import android.widget.EditText;
 import android.widget.ImageView;
-import android.widget.Switch;
 import android.widget.TextView;
 import android.widget.Toast;
 
 import java.util.Random;
 
-public class Sala extends AppCompatActivity {
+public class Sala extends AppCompatActivity implements Animation.AnimationListener {
 
     private TextView Codigo;
     private Button Refresh;
+    private Button b_start;
 
+    boolean blnButtonRotation = true;
+    int intNumber = 6;
+    long lngDegress = 0;
+
+    SharedPreferences sharedPreferences;
     ImageView image;
+    ImageView Selec;
 
     @Override
     protected void onCreate(Bundle savedInstanceState) {
@@ -45,7 +49,18 @@
         });
 
 
-        image = (ImageView) findViewById(R.id.ruleta);
+        b_start = (Button)findViewById(R.id.btnGirar);
+
+        Selec = (ImageView)findViewById(R.id.selecter);
+        image = (ImageView)findViewById(R.id.ruleta);
+
+
+        this.sharedPreferences = PreferenceManager.getDefaultSharedPreferences(this);
+        this.intNumber = this.sharedPreferences.getInt("INT_NUMBER", 6);
+        setImageRoulette();
+
+
+        /*image = (ImageView) findViewById(R.id.ruleta);
         image.setOnTouchListener(new View.OnTouchListener() {
             @Override
             public boolean onTouch(View Evento, MotionEvent Accion) {
@@ -56,17 +71,65 @@
                 }
                 return true;
             }
-        });
+        });*/
+
+    }
+    @Override
+    public void onAnimationStart(Animation animation){
+        this.blnButtonRotation = false;
+        b_start.setVisibility(View.VISIBLE);
+
+    }
+
+    @Override
+    public void onAnimationEnd(Animation animation){
+        Toast toast = Toast.makeText(this," " + String.valueOf((int)(((double)this.intNumber)
+                - Math.floor(((double)this.lngDegress)/(360.0d/((double)this.intNumber)))))+ " ", 0);
+        toast.setGravity(49,0,0);
+        toast.show();
+        this.blnButtonRotation = true;
+        b_start.setVisibility(View.VISIBLE);
+
 
     }
 
-    private void GirarRuleta(ImageView image) {
+    @Override
+    public void onAnimationRepeat(Animation animation){
+
+
+    }
+
+    public void onClickButtonRotation (View v){
+        if (this.blnButtonRotation){
+            int ran = new Random().nextInt(360)+3600;
+            RotateAnimation rotateAnimation = new RotateAnimation((float)this.lngDegress, (float)
+                    (this.lngDegress + ((long)ran)),1,0.5f,1,0.5f);
+
+            this.lngDegress = (this.lngDegress + ((long)ran)) % 360;
+            rotateAnimation.setDuration((long)ran);
+            rotateAnimation.setFillAfter(true);
+            rotateAnimation.setInterpolator(new DecelerateInterpolator());
+            rotateAnimation.setAnimationListener(this);
+            image.setAnimation(rotateAnimation);
+            image.startAnimation(rotateAnimation);
+
+
+        }
+    }
+
+
+    public void setImageRoulette(){
+        image.setImageDrawable(getResources().getDrawable(R.drawable.ruleta));
+        return;
+    }
+
+    /*private void GirarRuleta(ImageView image) {
         RotateAnimation Animacion = new RotateAnimation(0,570,RotateAnimation.RELATIVE_TO_SELF, 0.5f,
                 RotateAnimation.RELATIVE_TO_SELF, 0.5f);
 
         Animacion.setDuration(2000);
         image.startAnimation(Animacion);
 
-    }
+    }*/
 
 }
\ No newline at end of file
